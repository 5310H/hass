alias: "Handle bedroom temperature override off"
trigger:
- platform: state
  entity_id: sensor.thermostat_bedroom_target_temperature
condition:
  condition: or
  conditions:
    - condition: template
      value_template: '{{ states.sensor.thermostat_bedroom_target_temperature.state == states.input_number.bedroom_high_temperature.state }}'
    - condition: template
      value_template: '{{ states.sensor.thermostat_bedroom_target_temperature.state == states.input_number.bedroom_low_temperature.state }}'
action:
  - service: input_boolean.turn_on
    entity_id: input_boolean.thermostat_bedroom_keepauto
  - service: input_number.set_value
    data_template:
      entity_id: input_number.bedroom_override_temperature
      value: 0
